<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <form action="/signup" id="signupForm">
            Username: <input type="text" name="username" id="username" required><br>
            Email: <input type="email" name="email" id="email" required><br>
            Password: <input type="password" name="password" id="password"><br>
            <button type="submit">Submit</button>
            <button class="loginButton" onclick="redirectToLogin()">Login</button>
        </form>

        
    </div>
    

</body>

<script>
    // const baseURL = 'http://3.110.204.94';
     const baseURL = '';
    const signupForm = document.getElementById('signupForm');

    signupForm.addEventListener('submit' , async(event)=>{

        event.preventDefault();

        const formData = new FormData(event.target);
        const username = formData.get('username');
        const email = formData.get('email');
        const password = formData.get('password');

       

            axios.post(baseURL+'/signup',{
                username:username,
                email:email,
                password:password
            }).then(response=>{

                if(response.status === 200){

                    console.log(response.data);
                    window.location.href = '/login.html';
              


                }

        } )


    .catch(err=>{
                
              if(err.response.status===409){
                console.log(err.response.data)

               alert("user already exist");
               


              }
            })
        
    })

    function redirectToLogin() {
        window.location.href = '/login.html';
    }

</script>

